---
import Layout from "../../../layouts/Layout.astro";
import Lection from "../../../components/lection/Lection.tsx";
import { type CollectionEntry, getCollection } from "astro:content";
import Container from "../../../components/Container.astro";

export async function getStaticPaths() {
  const dictionary = await getCollection("direkt");

  return dictionary.map((entry) => {
    return {
      params: {
        book: entry.collection,
        lection: entry.id,
      },
      props: {
        data: entry.data as CollectionEntry<"direkt">,
      },
    };
  });
}

interface Props {
  data: CollectionEntry<"direkt">;
}

const { data } = Astro.props;
---

<Layout title="lol">
  <main class="h-full pb-4 text-white">
    <div
      class="flex h-full flex-col text-center items-center justify-center gap-y-6"
    >
      <Container>
        <Lection client:only="preact" data={data} />
      </Container>
    </div>
  </main>
</Layout>
