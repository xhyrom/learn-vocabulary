---
import { getCollection } from "astro:content";
import Button from "../../../components/Button.astro";
import Layout from "../../../layouts/Layout.astro";

export async function getStaticPaths() {
  const dictionary = await getCollection("dictionary");

  return dictionary.map((entry) => {
    return {
      params: {
        id: entry.id,
      },
      props: {
        words: entry.data.words,
      },
    };
  });
}

interface Word {
  word: string;
  article: string | null;
  translation:
    | string
    | {
        singular: string;
        plural: string;
      };
  plural?: string;
}

interface Props {
  words: Word[];
}

const { words } = Astro.props;
---

<Layout title="SprachspaÃŸ">
  <main class="h-full overflow-hidden pb-4 text-white">
    <div
      class="flex h-full flex-col text-center items-center justify-center gap-y-6"
    >
      <h1 class="text-6xl font-bold mb-5" id="word">Vokabel</h1>

      <div class="flex flex-wrap justify-center gap-6">
        <Button id="option-1">1</Button>
        <Button id="option-2">2</Button>
        <Button id="option-3">3</Button>
        <Button id="option-4">4</Button>
      </div>
    </div>
  </main>
</Layout>

<script define:vars={{ words }}>
  window.dictionary = words;
</script>
<script>
  import "../../../scripts/game.ts";
</script>
